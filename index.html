<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title> for a minute</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <style>
        /* ---------- 页面基础 ---------- */
        body{
            margin:0;
            font-family:Arial,Helvetica,sans-serif;
            overflow:hidden;               /* 防止出现滚动条 */
        }

        /* ---------- 渐变遮罩层 ---------- */
        .gradient{
            position:fixed;
            inset:0;                       /* top/right/bottom/left = 0 */
            background:#0d0d0d;           /* 起始深色 */
            z-index:9999;
            /* 动画：深 → 黄 → 深 */
            animation: dark2yellow2dark 1.2s forwards;   /* 2×1.2s，可自行修改 */
        }

        @keyframes dark2yellow2dark{
            0%   {background:#0d0d0d;}   /* 深色 */
            50%  {background:#76767a;}   /* 页面强调黄 */
            100% {background:#0d0d0d;}   /* 再回到深色 */
        }
    </style>
</head>
<body>

<div class="gradient" id="mask"></div>

<script>
/* ---------- 参数 & 配置 ---------- */
const ANIMATION_DURATION = 1200;   // 与 CSS 中的 2.4s 保持一致（毫秒）

/* ---------- 读取 URL 参数 ---------- */
function getQueryParam(name){
    return new URLSearchParams(window.location.search).get(name);
}

/* ---------- 跳转函数（瞬间切换） ---------- */
function redirect(target, useReplace = true){
    if (useReplace) {
        window.location.replace(target);
    } else {
        window.location.href = target;
    }
}

/* ---------- 主逻辑 ---------- */
window.addEventListener('DOMContentLoaded', () => {
    // 读取 lang 参数并决定跳转目标
    const lang = getQueryParam('lang');   // 如 "?lang=zh_cn"
    const map = {
        'zh_cn': './zh/main.html',
        'en_us': './en/main.html',
        // 如需更多语言请自行添加
    };
    const target = (lang && map[lang.toLowerCase()]) ? map[lang.toLowerCase()] : './en/main.html';

    // 动画结束后立即跳转
    const mask = document.getElementById('mask');
    mask.addEventListener('animationend', () => {
        redirect(target, true);   // 使用 replace，避免产生历史记录
    });
});
</script>

</body>
</html>